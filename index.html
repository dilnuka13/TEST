<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduPapers.lk - ‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∂Ç‡∂ö‡∑è ‡∂ã‡∑É‡∑É‡∑ä‡∂¥‡∑ô‡∑Ö ‡∂Ö‡∂∞‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∂± ‡∂¥‡∂Ø‡∑ä‡∂∞‡∂≠‡∑í‡∂∫</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Sinhala:wght@400;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4285F4;
            --secondary-color: #34A853;
            --accent-color: #EA4335;
            --light-color: #F5F5F5;
            --dark-color: #333333;
            --text-color: #444444;
            --border-radius: 8px;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans Sinhala', 'Roboto', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: #f9f9f9;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background-color: white;
            box-shadow: var(--box-shadow);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            display: flex;
            align-items: center;
        }

        .logo img {
            height: 50px;
            margin-right: 10px;
        }

        .logo h1 {
            font-size: 24px;
            color: var(--primary-color);
            font-weight: 700;
        }

        .logo span {
            color: var(--secondary-color);
        }

        .user-profile {
            display: flex;
            align-items: center;
            cursor: pointer;
            position: relative;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 10px;
            border: 2px solid var(--primary-color);
            transition: var(--transition);
        }

        .user-avatar:hover {
            transform: scale(1.1);
        }

        .user-name {
            font-weight: 600;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            width: 200px;
            padding: 10px 0;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            z-index: 100;
        }

        .user-profile:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
        }

        .dropdown-menu a {
            display: block;
            padding: 10px 20px;
            color: var(--text-color);
            text-decoration: none;
            transition: var(--transition);
        }

        .dropdown-menu a:hover {
            background-color: var(--light-color);
            color: var(--primary-color);
        }

        .dropdown-menu hr {
            border: none;
            height: 1px;
            background-color: #eee;
            margin: 5px 0;
        }

        /* Main Content Styles */
        main {
            margin-top: 80px;
            padding: 30px 0;
        }

        .welcome-section {
            text-align: center;
            margin-bottom: 40px;
            animation: fadeIn 1s ease;
        }

        .welcome-section h2 {
            font-size: 28px;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .welcome-section p {
            font-size: 16px;
            max-width: 700px;
            margin: 0 auto;
        }

        /* Subject Stream Selection */
        .stream-section {
            margin-bottom: 40px;
            animation: slideUp 0.8s ease;
        }

        .section-title {
            font-size: 22px;
            margin-bottom: 20px;
            color: var(--dark-color);
            position: relative;
            padding-bottom: 10px;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background-color: var(--primary-color);
        }

        .stream-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .stream-card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            transition: var(--transition);
            cursor: pointer;
            text-align: center;
        }

        .stream-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        .stream-icon {
            font-size: 40px;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .stream-card h3 {
            font-size: 18px;
            margin-bottom: 10px;
            color: var(--dark-color);
        }

        .stream-card p {
            font-size: 14px;
            color: var(--text-color);
        }

        /* Subjects Section */
        .subjects-section {
            animation: slideUp 1s ease;
        }

        .subjects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        .subject-card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            transition: var(--transition);
            cursor: pointer;
            border-left: 4px solid var(--primary-color);
        }

        .subject-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }

        .subject-card h3 {
            font-size: 18px;
            margin-bottom: 10px;
            color: var(--dark-color);
        }

        .subject-card p {
            font-size: 14px;
            color: var(--text-color);
            margin-bottom: 15px;
        }

        .subject-meta {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #777;
        }

        /* Footer Styles */
        footer {
            background-color: var(--dark-color);
            color: white;
            padding: 40px 0 20px;
        }

        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .footer-column h3 {
            font-size: 18px;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-column h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 2px;
            background-color: var(--primary-color);
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 10px;
        }

        .footer-column ul li a {
            color: #ccc;
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-column ul li a:hover {
            color: white;
            padding-left: 5px;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #444;
            font-size: 14px;
            color: #aaa;
        }

        /* Auth Modal Styles */
        .auth-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .auth-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .auth-container {
            background-color: white;
            border-radius: var(--border-radius);
            width: 100%;
            max-width: 500px;
            padding: 30px;
            box-shadow: var(--box-shadow);
            transform: translateY(-20px);
            transition: var(--transition);
        }

        .auth-modal.active .auth-container {
            transform: translateY(0);
        }

        .auth-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .auth-header h2 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .auth-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .auth-tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: var(--transition);
        }

        .auth-tab.active {
            border-bottom: 2px solid var(--primary-color);
            color: var(--primary-color);
            font-weight: 600;
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-family: inherit;
            font-size: 16px;
            transition: var(--transition);
        }

        .form-group input:focus, .form-group select:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.2);
        }

        .google-auth-btn {
            width: 100%;
            padding: 12px;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 20px;
        }

        .google-auth-btn:hover {
            background-color: #f5f5f5;
        }

        .google-auth-btn img {
            width: 20px;
            margin-right: 10px;
        }

        .submit-btn {
            width: 100%;
            padding: 12px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 16px;
        }

        .submit-btn:hover {
            background-color: #3367d6;
        }

        .auth-footer {
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
        }

        .auth-footer a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
        }

        /* Profile Modal */
        .profile-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .profile-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .profile-container {
            background-color: white;
            border-radius: var(--border-radius);
            width: 100%;
            max-width: 600px;
            padding: 30px;
            box-shadow: var(--box-shadow);
            transform: translateY(-20px);
            transition: var(--transition);
            max-height: 90vh;
            overflow-y: auto;
        }

        .profile-modal.active .profile-container {
            transform: translateY(0);
        }

        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 20px;
            border: 3px solid var(--primary-color);
        }

        .profile-info h2 {
            color: var(--dark-color);
            margin-bottom: 5px;
        }

        .profile-info p {
            color: var(--text-color);
            font-size: 14px;
        }

        .profile-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .detail-group label {
            display: block;
            font-weight: 500;
            margin-bottom: 5px;
            color: var(--dark-color);
        }

        .detail-group p {
            background-color: var(--light-color);
            padding: 10px 15px;
            border-radius: var(--border-radius);
            font-size: 14px;
        }

        .profile-actions {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
        }

        .edit-btn, .save-btn, .cancel-btn {
            padding: 10px 20px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
        }

        .edit-btn {
            background-color: var(--primary-color);
            color: white;
        }

        .edit-btn:hover {
            background-color: #3367d6;
        }

        .save-btn {
            background-color: var(--secondary-color);
            color: white;
            display: none;
        }

        .save-btn:hover {
            background-color: #2d9249;
        }

        .cancel-btn {
            background-color: #f1f1f1;
            color: var(--text-color);
            display: none;
        }

        .cancel-btn:hover {
            background-color: #e1e1e1;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                padding: 15px 0;
            }

            .logo {
                margin-bottom: 15px;
            }

            .profile-details {
                grid-template-columns: 1fr;
            }

            .auth-container, .profile-container {
                width: 90%;
                padding: 20px;
            }
        }

        /* Language Toggle */
        .language-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
        }

        .language-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--box-shadow);
            font-weight: 600;
            transition: var(--transition);
        }

        .language-btn:hover {
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <img src="https://photos.app.goo.gl/36odpNSMJYBv84YQ9" alt="EduPapers.lk Logo">
                <h1>Edu<span>Papers.lk</span></h1>
            </div>
            <div class="user-profile" id="userProfile">
                <img src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png" alt="User Avatar" class="user-avatar" id="userAvatar">
                <span class="user-name" id="userName">‡∂¥‡∑î‡∂ª‡∂±‡∂∫ ‡∑Ä‡∂±‡∑ä‡∂±</span>
                <div class="dropdown-menu">
                    <a href="#" id="viewProfileBtn">‡∂∏‡∂ú‡∑ö ‡∂¥‡∑ê‡∂≠‡∑í‡∂ö‡∂©</a>
                    <a href="#" id="changePasswordBtn">‡∂∏‡∑î‡∂ª‡∂¥‡∂Ø‡∂∫ ‡∑Ä‡∑ô‡∂±‡∑É‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</a>
                    <hr>
                    <a href="#" id="logoutBtn">‡∂¥‡∑í‡∂ß‡∑Ä‡∑ì‡∂∏</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <div class="container">
            <!-- Welcome Section -->
            <section class="welcome-section" id="welcomeSection">
                <h2>‡∂Ü‡∂∫‡∑î‡∂∂‡∑ù‡∑Ä‡∂±‡∑ä, <span id="welcomeName">‡∂Ü‡∂ú‡∂±‡∑ä‡∂≠‡∑î‡∂ö‡∂∫‡∑è</span>!</h2>
                <p>‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∂Ç‡∂ö‡∑è‡∑Ä‡∑ö ‡∂ã‡∑É‡∑É‡∑ä‡∂¥‡∑ô‡∑Ö ‡∂Ö‡∂∞‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∂±‡∂∫ ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Ä‡∂± ‡∂î‡∂∂‡∂ú‡∑ö ‡∂∏‡∑è‡∂ª‡∑ä‡∂ú‡∑ù‡∂¥‡∂Ø‡∑ö‡∑Å‡∂ö‡∂∫‡∑è. ‡∂î‡∂∂‡∂ú‡∑ö ‡∂Ö‡∂∞‡∑ä‚Äç‡∂∫‡∂∫‡∂± ‡∂∞‡∑è‡∂ª‡∑è‡∑Ä ‡∂≠‡∑ù‡∂ª‡∑è ‡∂Ö‡∂Ø‡∑Ñ‡∑É‡∑ä‡∂Ø‡∑ê‡∂ö‡∑ä‡∑Ä‡∑ì‡∂∏‡∑ä ‡∂Ω‡∂∂‡∑è‡∂ú‡∂±‡∑ä‡∂±.</p>
            </section>

            <!-- Stream Section (Visible if not selected) -->
            <section class="stream-section" id="streamSection">
                <h3 class="section-title">‡∂î‡∂∂‡∂ú‡∑ö ‡∂Ö‡∂∞‡∑ä‚Äç‡∂∫‡∂∫‡∂± ‡∂∞‡∑è‡∂ª‡∑è‡∑Ä ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±</h3>
                <div class="stream-cards">
                    <div class="stream-card" data-stream="science">
                        <div class="stream-icon">üî¨</div>
                        <h3>‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è ‡∂∞‡∑è‡∂ª‡∑è‡∑Ä</h3>
                        <p>‡∂ú‡∂´‡∑í‡∂≠‡∂∫, ‡∂∑‡∑û‡∂≠‡∑í‡∂ö ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä, ‡∂ª‡∑É‡∑è‡∂∫‡∂± ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä, ‡∂¢‡∑ì‡∑Ä ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä ‡∑Ä‡∑ê‡∂±‡∑í ‡∑Ä‡∑í‡∑Ç‡∂∫‡∂∫‡∂±‡∑ä</p>
                    </div>
                    <div class="stream-card" data-stream="commerce">
                        <div class="stream-icon">üíº</div>
                        <h3>‡∑Ä‡∑è‡∂´‡∑í‡∂¢ ‡∂∞‡∑è‡∂ª‡∑è‡∑Ä</h3>
                        <p>‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∑ä‡∂ö‡∂ª‡∂´‡∂∫, ‡∑Ä‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∑è‡∂ª ‡∂Ö‡∂∞‡∑ä‚Äç‡∂∫‡∂∫‡∂±‡∂∫, ‡∂Ü‡∂ª‡∑ä‡∂Æ‡∑í‡∂ö ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä ‡∑Ä‡∑ê‡∂±‡∑í ‡∑Ä‡∑í‡∑Ç‡∂∫‡∂∫‡∂±‡∑ä</p>
                    </div>
                    <div class="stream-card" data-stream="arts">
                        <div class="stream-icon">üé®</div>
                        <h3>‡∂ö‡∂Ω‡∑è ‡∂∞‡∑è‡∂ª‡∑è‡∑Ä</h3>
                        <p>‡∂â‡∂≠‡∑í‡∑Ñ‡∑è‡∑É‡∂∫, ‡∂∑‡∑ñ‡∂ú‡∑ù‡∂Ω ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä, ‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω, ‡∂Ü‡∂ú‡∂∏‡∑ä ‡∑Ä‡∑ê‡∂±‡∑í ‡∑Ä‡∑í‡∑Ç‡∂∫‡∂∫‡∂±‡∑ä</p>
                    </div>
                    <div class="stream-card" data-stream="technology">
                        <div class="stream-icon">üíª</div>
                        <h3>‡∂≠‡∑è‡∂ö‡∑ä‡∑Ç‡∂´ ‡∂∞‡∑è‡∂ª‡∑è‡∑Ä</h3>
                        <p>‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î ‡∂≠‡∑è‡∂ö‡∑ä‡∑Ç‡∂´‡∂∫, ‡∂â‡∂Ç‡∂¢‡∑í‡∂±‡∑ö‡∂ª‡∑î ‡∂≠‡∑è‡∂ö‡∑ä‡∑Ç‡∂´‡∂∫, ‡∂ú‡∂´‡∑í‡∂≠‡∂∫ ‡∑Ä‡∑ê‡∂±‡∑í ‡∑Ä‡∑í‡∑Ç‡∂∫‡∂∫‡∂±‡∑ä</p>
                    </div>
                </div>
            </section>

            <!-- Subjects Section (Visible after stream selection) -->
            <section class="subjects-section" id="subjectsSection" style="display: none;">
                <h3 class="section-title" id="streamTitle">‡∑Ä‡∑í‡∑Ç‡∂∫‡∂±‡∑ä</h3>
                <div class="subjects-grid" id="subjectsGrid">
                    <!-- Subjects will be dynamically loaded here -->
                </div>
            </section>
        </div>
    </main>

    <!-- Footer Section -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <div class="footer-column">
                    <h3>EduPapers.lk</h3>
                    <p>‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∂Ç‡∂ö‡∑è‡∑Ä‡∑ö ‡∂ã‡∑É‡∑É‡∑ä‡∂¥‡∑ô‡∑Ö ‡∑É‡∑í‡∑É‡∑î‡∂±‡∑ä ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Ä‡∂± ‡∂¥‡∑ä‚Äç‡∂ª‡∂∏‡∑î‡∂õ‡∂≠‡∂∏ ‡∂Ö‡∂∞‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∂±‡∑í‡∂ö ‡∂¥‡∑ä‚Äç‡∂ª‡∂∑‡∂Ω‡∂∫.</p>
                </div>
                <div class="footer-column">
                    <h3>‡∑É‡∂∂‡∑ê‡∂≥‡∑í</h3>
                    <ul>
                        <li><a href="#">‡∂¥‡∑ä‚Äç‡∂ª‡∂∞‡∑è‡∂± ‡∂¥‡∑í‡∂ß‡∑î‡∑Ä</a></li>
                        <li><a href="#">‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±‡∑è‡∑Ä‡∂Ω‡∑í</a></li>
                        <li><a href="#">‡∑É‡∂Ç‡∑Ä‡∂ª‡∑ä‡∂∞‡∂ö‡∂∫‡∑í‡∂±‡∑ä</a></li>
                        <li><a href="#">‡∑É‡∂∏‡∑ä‡∂∂‡∂±‡∑ä‡∂∞ ‡∑Ä‡∂±‡∑ä‡∂±</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>‡∑É‡∑Ñ‡∑è‡∂∫</h3>
                    <ul>
                        <li><a href="#">‡∂ã‡∂Ø‡∑Ä‡∑î</a></li>
                        <li><a href="#">‡∂±‡∑í‡∂≠‡∑í ‡∂Ö‡∑É‡∂± ‡∂¥‡∑ê‡∂´</a></li>
                        <li><a href="#">‡∂ª‡∑Ñ‡∑É‡∑ä‚Äç‡∂∫‡∂≠‡∑è ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂¥‡∂≠‡∑ä‡∂≠‡∑í‡∂∫</a></li>
                        <li><a href="#">‡∂±‡∑í‡∂∫‡∂∏‡∂∫‡∂±‡∑ä ‡∑É‡∑Ñ ‡∂ö‡∑ú‡∂±‡∑ä‡∂Ø‡∑ö‡∑É‡∑í</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>‡∑É‡∂∏‡∑ä‡∂∂‡∂±‡∑ä‡∂∞ ‡∑Ä‡∂±‡∑ä‡∂±</h3>
                    <ul>
                        <li>‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑î‡∂≠‡∑ä ‡∂≠‡∑ê‡∂¥‡∑ë‡∂Ω: info@edupapers.lk</li>
                        <li>‡∂Ø‡∑î‡∂ª‡∂ö‡∂Æ‡∂±: +94 11 234 5678</li>
                        <li>‡∂ö‡∑ú‡∑Ö‡∂π 07, ‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∂Ç‡∂ö‡∑è‡∑Ä</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 EduPapers.lk. ‡∑É‡∑í‡∂∫‡∂Ω‡∑î‡∂∏ ‡∑Ñ‡∑í‡∂∏‡∑í‡∂ö‡∂∏‡∑ä ‡∂á‡∑Ä‡∑í‡∂ª‡∑í‡∂´‡∑í.</p>
            </div>
        </div>
    </footer>

    <!-- Auth Modal -->
    <div class="auth-modal" id="authModal">
        <div class="auth-container">
            <div class="auth-header">
                <h2 id="authModalTitle">‡∂¥‡∑î‡∂ª‡∂±‡∂∫ ‡∑Ä‡∂±‡∑ä‡∂±</h2>
                <p id="authModalSubtitle">‡∂î‡∂∂‡∂ú‡∑ö ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∂ß ‡∂¥‡∑ä‚Äç‡∂ª‡∑Ä‡∑ö‡∑Å ‡∑Ä‡∑ì‡∂∏‡∂ß</p>
            </div>
            <div class="auth-tabs">
                <div class="auth-tab active" id="loginTab">‡∂¥‡∑î‡∂ª‡∂±‡∂∫ ‡∑Ä‡∂±‡∑ä‡∂±</div>
                <div class="auth-tab" id="registerTab">‡∂Ω‡∑í‡∂∫‡∑è‡∂¥‡∂Ø‡∑í‡∂Ç‡∂†‡∑í ‡∑Ä‡∂±‡∑ä‡∂±</div>
            </div>
            
            <!-- Login Form -->
            <div class="auth-form active" id="loginForm">
                <button class="google-auth-btn" id="googleLoginBtn">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="Google Logo">
                    Google ‡∑É‡∂∏‡∂ú ‡∂¥‡∑î‡∂ª‡∂±‡∂∫ ‡∑Ä‡∂±‡∑ä‡∂±
                </button>
                <div style="text-align: center; margin: 15px 0; color: #777;">‡∑Ñ‡∑ù</div>
                <div class="form-group">
                    <label for="loginEmail">‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑î‡∂≠‡∑ä ‡∂≠‡∑ê‡∂¥‡∑ë‡∂Ω</label>
                    <input type="email" id="loginEmail" placeholder="‡∂î‡∂∂‡∂ú‡∑ö ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑î‡∂≠‡∑ä ‡∂≠‡∑ê‡∂¥‡∑ë‡∂Ω ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±">
                </div>
                <div class="form-group">
                    <label for="loginPassword">‡∂∏‡∑î‡∂ª‡∂¥‡∂Ø‡∂∫</label>
                    <input type="password" id="loginPassword" placeholder="‡∂î‡∂∂‡∂ú‡∑ö ‡∂∏‡∑î‡∂ª‡∂¥‡∂Ø‡∂∫ ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±">
                </div>
                <button class="submit-btn" id="loginBtn">‡∂¥‡∑î‡∂ª‡∂±‡∂∫ ‡∑Ä‡∂±‡∑ä‡∂±</button>
                <div class="auth-footer">
                    ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∂ö‡∑ä ‡∂±‡∑ê‡∂Ø‡∑ä‡∂Ø? <a href="#" id="showRegisterBtn">‡∂Ω‡∑í‡∂∫‡∑è‡∂¥‡∂Ø‡∑í‡∂Ç‡∂†‡∑í ‡∑Ä‡∂±‡∑ä‡∂±</a>
                </div>
            </div>
            
            <!-- Register Form -->
            <div class="auth-form" id="registerForm">
                <button class="google-auth-btn" id="googleRegisterBtn">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="Google Logo">
                    Google ‡∑É‡∂∏‡∂ú ‡∂Ω‡∑í‡∂∫‡∑è‡∂¥‡∂Ø‡∑í‡∂Ç‡∂†‡∑í ‡∑Ä‡∂±‡∑ä‡∂±
                </button>
                <div style="text-align: center; margin: 15px 0; color: #777;">‡∑Ñ‡∑ù</div>
                <div class="form-group">
                    <label for="registerName">‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂±‡∂∏</label>
                    <input type="text" id="registerName" placeholder="‡∂î‡∂∂‡∂ú‡∑ö ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂±‡∂∏ ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±">
                </div>
                <div class="form-group">
                    <label for="registerEmail">‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑î‡∂≠‡∑ä ‡∂≠‡∑ê‡∂¥‡∑ë‡∂Ω</label>
                    <input type="email" id="registerEmail" placeholder="‡∂î‡∂∂‡∂ú‡∑ö ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑î‡∂≠‡∑ä ‡∂≠‡∑ê‡∂¥‡∑ë‡∂Ω ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±">
                </div>
                <div class="form-group">
                    <label for="registerPassword">‡∂∏‡∑î‡∂ª‡∂¥‡∂Ø‡∂∫</label>
                    <input type="password" id="registerPassword" placeholder="‡∂∏‡∑î‡∂ª‡∂¥‡∂Ø‡∂∫‡∂ö‡∑ä ‡∑É‡∑è‡∂Ø‡∂±‡∑ä‡∂±">
                </div>
                <div class="form-group">
                    <label for="registerStream">‡∂Ö‡∂∞‡∑ä‚Äç‡∂∫‡∂∫‡∂± ‡∂∞‡∑è‡∂ª‡∑è‡∑Ä</label>
                    <select id="registerStream">
                        <option value="">‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±</option>
                        <option value="science">‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è ‡∂∞‡∑è‡∂ª‡∑è‡∑Ä</option>
                        <option value="commerce">‡∑Ä‡∑è‡∂´‡∑í‡∂¢ ‡∂∞‡∑è‡∂ª‡∑è‡∑Ä</option>
                        <option value="arts">‡∂ö‡∂Ω‡∑è ‡∂∞‡∑è‡∂ª‡∑è‡∑Ä</option>
                        <option value="technology">‡∂≠‡∑è‡∂ö‡∑ä‡∑Ç‡∂´ ‡∂∞‡∑è‡∂ª‡∑è‡∑Ä</option>
                    </select>
                </div>
                <button class="submit-btn" id="registerBtn">‡∂Ω‡∑í‡∂∫‡∑è‡∂¥‡∂Ø‡∑í‡∂Ç‡∂†‡∑í ‡∑Ä‡∂±‡∑ä‡∂±</button>
                <div class="auth-footer">
                    ‡∂Ø‡∑ê‡∂±‡∂ß‡∂∏‡∂≠‡∑ä ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∂ö‡∑ä ‡∂á‡∂≠‡∑í‡∂Ø? <a href="#" id="showLoginBtn">‡∂¥‡∑î‡∂ª‡∂±‡∂∫ ‡∑Ä‡∂±‡∑ä‡∂±</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div class="profile-modal" id="profileModal">
        <div class="profile-container">
            <div class="profile-header">
                <img src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png" alt="Profile Picture" class="profile-avatar" id="profileAvatar">
                <div class="profile-info">
                    <h2 id="profileName">‡∂±‡∂∏ ‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠</h2>
                    <p id="profileEmail">‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑î‡∂≠‡∑ä ‡∂≠‡∑ê‡∂¥‡∑ë‡∂Ω ‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠</p>
                </div>
            </div>
            <div class="profile-details">
                <div class="detail-group">
                    <label>‡∂Ö‡∂∞‡∑ä‚Äç‡∂∫‡∂∫‡∂± ‡∂∞‡∑è‡∂ª‡∑è‡∑Ä</label>
                    <p id="profileStream">‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠</p>
                </div>
                <div class="detail-group">
                    <label>‡∂ã‡∂¥‡∂±‡∑ä ‡∑Ä‡∂ª‡∑ä‡∑Ç‡∂∫</label>
                    <p id="profileBirthYear">‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠</p>
                </div>
                <div class="detail-group">
                    <label>‡∂¢‡∑è‡∂≠‡∑í‡∂ö ‡∑Ñ‡∑ê‡∂≥‡∑î‡∂±‡∑î‡∂∏‡∑ä‡∂¥‡∂≠‡∑ä ‡∂Ö‡∂Ç‡∂ö‡∂∫</label>
                    <p id="profileNIC">‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠</p>
                </div>
                <div class="detail-group">
                    <label>‡∂Ω‡∑í‡∂¥‡∑í‡∂±‡∂∫</label>
                    <p id="profileAddress">‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠</p>
                </div>
                <div class="detail-group">
                    <label>‡∂Ø‡∑î‡∂ª‡∂ö‡∂Æ‡∂± ‡∂Ö‡∂Ç‡∂ö‡∂∫</label>
                    <p id="profilePhone">‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠</p>
                </div>
                <div class="detail-group">
                    <label>‡∑É‡∑è‡∂∏‡∑è‡∂±‡∑ä‚Äç‡∂∫ ‡∂¥‡∑ô‡∂Ω ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂¥‡∂Ω</label>
                    <p id="profileOLResults">‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠</p>
                </div>
            </div>
            <div class="profile-actions">
                <button class="cancel-btn" id="cancelEditBtn">‡∂Ö‡∑Ä‡∂Ω‡∂Ç‡∂ú‡∑î ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</button>
                <button class="save-btn" id="saveProfileBtn">‡∑É‡∑î‡∂ª‡∂ö‡∑í‡∂±‡∑ä‡∂±</button>
                <button class="edit-btn" id="editProfileBtn">‡∑É‡∂Ç‡∑É‡∑ä‡∂ö‡∂ª‡∂´‡∂∫ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</button>
            </div>
        </div>
    </div>

    <!-- Language Toggle -->
    <div class="language-toggle">
        <button class="language-btn" id="languageBtn">‡∑É‡∑í‡∂Ç</button>
    </div>

    <!-- Firebase and App Scripts -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyD6yXDHsOaqVplfhsXZV8nWvMuioDulwYg",
            authDomain: "edu-login-4d05f.firebaseapp.com",
            projectId: "edu-login-4d05f",
            storageBucket: "edu-login-4d05f.appspot.com",
            messagingSenderId: "197092856272",
            appId: "1:197092856272:web:a00b0169e46e7d5acca9d5",
            measurementId: "G-TM21CT4GJ9"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // DOM Elements
        const authModal = document.getElementById('authModal');
        const profileModal = document.getElementById('profileModal');
        const loginTab = document.getElementById('loginTab');
        const registerTab = document.getElementById('registerTab');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const showRegisterBtn = document.getElementById('showRegisterBtn');
        const showLoginBtn = document.getElementById('showLoginBtn');
        const googleLoginBtn = document.getElementById('googleLoginBtn');
        const googleRegisterBtn = document.getElementById('googleRegisterBtn');
        const loginBtn = document.getElementById('loginBtn');
        const registerBtn = document.getElementById('registerBtn');
        const userProfile = document.getElementById('userProfile');
        const userName = document.getElementById('userName');
        const userAvatar = document.getElementById('userAvatar');
        const viewProfileBtn = document.getElementById('viewProfileBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const welcomeName = document.getElementById('welcomeName');
        const streamSection = document.getElementById('streamSection');
        const subjectsSection = document.getElementById('subjectsSection');
        const streamTitle = document.getElementById('streamTitle');
        const subjectsGrid = document.getElementById('subjectsGrid');
        const streamCards = document.querySelectorAll('.stream-card');
        const profileName = document.getElementById('profileName');
        const profileEmail = document.getElementById('profileEmail');
        const profileAvatar = document.getElementById('profileAvatar');
        const profileStream = document.getElementById('profileStream');
        const profileBirthYear = document.getElementById('profileBirthYear');
        const profileNIC = document.getElementById('profileNIC');
        const profileAddress = document.getElementById('profileAddress');
        const profilePhone = document.getElementById('profilePhone');
        const profileOLResults = document.getElementById('profileOLResults');
        const editProfileBtn = document.getElementById('editProfileBtn');
        const saveProfileBtn = document.getElementById('saveProfileBtn');
        const cancelEditBtn = document.getElementById('cancelEditBtn');
        const languageBtn = document.getElementById('languageBtn');

        // Subjects data
        const subjectsData = {
            science: [
                { name: "‡∂ú‡∂´‡∑í‡∂≠‡∂∫", description: "‡∂ã‡∑É‡∑É‡∑ä‡∂¥‡∑ô‡∑Ö ‡∂ú‡∂´‡∑í‡∂≠‡∂∫ ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Ä‡∂± ‡∂¥‡∑è‡∂©‡∂∏‡∑ä ‡∑É‡∑Ñ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±", papers: 24 },
                { name: "‡∂∑‡∑û‡∂≠‡∑í‡∂ö ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä", description: "‡∂∑‡∑û‡∂≠‡∑í‡∂ö ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Ä‡∂± ‡∂¥‡∑è‡∂©‡∂∏‡∑ä ‡∑É‡∑Ñ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±", papers: 18 },
                { name: "‡∂ª‡∑É‡∑è‡∂∫‡∂± ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä", description: "‡∂ª‡∑É‡∑è‡∂∫‡∂± ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Ä‡∂± ‡∂¥‡∑è‡∂©‡∂∏‡∑ä ‡∑É‡∑Ñ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±", papers: 15 },
                { name: "‡∂¢‡∑ì‡∑Ä ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä", description: "‡∂¢‡∑ì‡∑Ä ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Ä‡∂± ‡∂¥‡∑è‡∂©‡∂∏‡∑ä ‡∑É‡∑Ñ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±", papers: 12 }
            ],
            commerce: [
                { name: "‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∑ä‡∂ö‡∂ª‡∂´‡∂∫", description: "‡∂ã‡∑É‡∑É‡∑ä‡∂¥‡∑ô‡∑Ö ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∑ä‡∂ö‡∂ª‡∂´‡∂∫ ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Ä‡∂± ‡∂¥‡∑è‡∂©‡∂∏‡∑ä ‡∑É‡∑Ñ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±", papers: 20 },
                { name: "‡∑Ä‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∑è‡∂ª ‡∂Ö‡∂∞‡∑ä‚Äç‡∂∫‡∂∫‡∂±‡∂∫", description: "‡∑Ä‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∑è‡∂ª ‡∂Ö‡∂∞‡∑ä‚Äç‡∂∫‡∂∫‡∂±‡∂∫ ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Ä‡∂± ‡∂¥‡∑è‡∂©‡∂∏‡∑ä ‡∑É‡∑Ñ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±", papers: 16 },
                { name: "‡∂Ü‡∂ª‡∑ä‡∂Æ‡∑í‡∂ö ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä", description: "‡∂Ü‡∂ª‡∑ä‡∂Æ‡∑í‡∂ö ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Ä‡∂± ‡∂¥‡∑è‡∂©‡∂∏‡∑ä ‡∑É‡∑Ñ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±", papers: 14 }
            ],
            arts: [
                { name: "‡∂â‡∂≠‡∑í‡∑Ñ‡∑è‡∑É‡∂∫", description: "‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∂Ç‡∂ö‡∑è ‡∑É‡∑Ñ ‡∂Ω‡∑ù‡∂ö ‡∂â‡∂≠‡∑í‡∑Ñ‡∑è‡∑É‡∂∫ ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Ä‡∂± ‡∂¥‡∑è‡∂©‡∂∏‡∑ä ‡∑É‡∑Ñ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±", papers: 22 },
                { name: "‡∂∑‡∑ñ‡∂ú‡∑ù‡∂Ω ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä", description: "‡∂∑‡∑ñ‡∂ú‡∑ù‡∂Ω ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Ä‡∂± ‡∂¥‡∑è‡∂©‡∂∏‡∑ä ‡∑É‡∑Ñ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±", papers: 18 },
                { name: "‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω", description: "‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω ‡∂∑‡∑è‡∑Ç‡∑è‡∑Ä ‡∑É‡∑Ñ ‡∑É‡∑è‡∑Ñ‡∑í‡∂≠‡∑ä‚Äç‡∂∫‡∂∫ ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Ä‡∂± ‡∂¥‡∑è‡∂©‡∂∏‡∑ä ‡∑É‡∑Ñ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±", papers: 15 },
                { name: "‡∂Ü‡∂ú‡∂∏‡∑ä", description: "‡∂∂‡∑û‡∂Ø‡∑ä‡∂∞ ‡∂Ü‡∂ú‡∂∏ ‡∑É‡∑Ñ ‡∂Ö‡∂±‡∑ô‡∂ö‡∑î‡∂≠‡∑ä ‡∂Ü‡∂ú‡∂∏‡∑ä ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Ä‡∂± ‡∂¥‡∑è‡∂©‡∂∏‡∑ä ‡∑É‡∑Ñ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±", papers: 12 }
            ],
            technology: [
                { name: "‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î ‡∂≠‡∑è‡∂ö‡∑ä‡∑Ç‡∂´‡∂∫", description: "‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î ‡∂≠‡∑è‡∂ö‡∑ä‡∑Ç‡∂´‡∂∫ ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Ä‡∂± ‡∂¥‡∑è‡∂©‡∂∏‡∑ä ‡∑É‡∑Ñ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±", papers: 20 },
                { name: "‡∂â‡∂Ç‡∂¢‡∑í‡∂±‡∑ö‡∂ª‡∑î ‡∂≠‡∑è‡∂ö‡∑ä‡∑Ç‡∂´‡∂∫", description: "‡∂â‡∂Ç‡∂¢‡∑í‡∂±‡∑ö‡∂ª‡∑î ‡∂≠‡∑è‡∂ö‡∑ä‡∑Ç‡∂´‡∂∫ ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Ä‡∂± ‡∂¥‡∑è‡∂©‡∂∏‡∑ä ‡∑É‡∑Ñ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±", papers: 16 },
                { name: "‡∂ú‡∂´‡∑í‡∂≠‡∂∫", description: "‡∂≠‡∑è‡∂ö‡∑ä‡∑Ç‡∂´ ‡∂ú‡∂´‡∑í‡∂≠‡∂∫ ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Ä‡∂± ‡∂¥‡∑è‡∂©‡∂∏‡∑ä ‡∑É‡∑Ñ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±", papers: 18 }
            ]
        };

        // Current user data
        let currentUser = null;
        let currentStream = null;
        let isEnglish = false;

        // Event Listeners
        userProfile.addEventListener('click', () => {
            if (!currentUser) {
                authModal.classList.add('active');
            }
        });

        viewProfileBtn.addEventListener('click', (e) => {
            e.preventDefault();
            profileModal.classList.add('active');
        });

        logoutBtn.addEventListener('click', (e) => {
            e.preventDefault();
            auth.signOut();
        });

        loginTab.addEventListener('click', () => {
            loginTab.classList.add('active');
            registerTab.classList.remove('active');
            loginForm.classList.add('active');
            registerForm.classList.remove('active');
        });

        registerTab.addEventListener('click', () => {
            registerTab.classList.add('active');
            loginTab.classList.remove('active');
            registerForm.classList.add('active');
            loginForm.classList.remove('active');
        });

        showRegisterBtn.addEventListener('click', (e) => {
            e.preventDefault();
            registerTab.click();
        });

        showLoginBtn.addEventListener('click', (e) => {
            e.preventDefault();
            loginTab.click();
        });

        googleLoginBtn.addEventListener('click', signInWithGoogle);
        googleRegisterBtn.addEventListener('click', signInWithGoogle);

        streamCards.forEach(card => {
            card.addEventListener('click', () => {
                const stream = card.getAttribute('data-stream');
                selectStream(stream);
            });
        });

        editProfileBtn.addEventListener('click', enableProfileEditing);
        saveProfileBtn.addEventListener('click', saveProfile);
        cancelEditBtn.addEventListener('click', cancelProfileEditing);
        languageBtn.addEventListener('click', toggleLanguage);

        // Initialize the app
        function initApp() {
            auth.onAuthStateChanged(user => {
                if (user) {
                    // User is signed in
                    currentUser = user;
                    updateUI(user);
                    checkUserProfile(user.uid);
                } else {
                    // User is signed out
                    currentUser = null;
                    updateUI(null);
                }
            });
        }

        // Sign in with Google
        function signInWithGoogle() {
            const provider = new firebase.auth.GoogleAuthProvider();
            auth.signInWithPopup(provider)
                .then(result => {
                    // Check if this is a new user
                    if (result.additionalUserInfo.isNewUser) {
                        // Create user profile in Firestore
                        createUserProfile(result.user);
                    }
                    authModal.classList.remove('active');
                })
                .catch(error => {
                    console.error('Google sign in error:', error);
                });
        }

        // Create user profile in Firestore
        function createUserProfile(user) {
            db.collection('users').doc(user.uid).set({
                name: user.displayName || '',
                email: user.email,
                photoURL: user.photoURL || '',
                createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                stream: '',
                birthYear: '',
                nic: '',
                address: '',
                phone: '',
                olResults: ''
            })
            .then(() => {
                console.log('User profile created');
            })
            .catch(error => {
                console.error('Error creating user profile:', error);
            });
        }

        // Check user profile data
        function checkUserProfile(uid) {
            db.collection('users').doc(uid).get()
                .then(doc => {
                    if (doc.exists) {
                        const userData = doc.data();
                        if (userData.stream) {
                            currentStream = userData.stream;
                            streamSection.style.display = 'none';
                            subjectsSection.style.display = 'block';
                            loadSubjects(userData.stream);
                            streamTitle.textContent = `${getStreamName(userData.stream)} ‡∑Ä‡∑í‡∑Ç‡∂∫‡∂±‡∑ä`;
                        }
                        
                        // Update profile modal
                        profileName.textContent = userData.name || '‡∂±‡∂∏ ‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠';
                        profileEmail.textContent = userData.email || '‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑î‡∂≠‡∑ä ‡∂≠‡∑ê‡∂¥‡∑ë‡∂Ω ‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠';
                        profileAvatar.src = userData.photoURL || 'https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png';
                        profileStream.textContent = userData.stream ? getStreamName(userData.stream) : '‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠';
                        profileBirthYear.textContent = userData.birthYear || '‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠';
                        profileNIC.textContent = userData.nic || '‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠';
                        profileAddress.textContent = userData.address || '‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠';
                        profilePhone.textContent = userData.phone || '‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠';
                        profileOLResults.textContent = userData.olResults || '‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠';
                    }
                })
                .catch(error => {
                    console.error('Error getting user profile:', error);
                });
        }

        // Select stream
        function selectStream(stream) {
            if (!currentUser) return;
            
            currentStream = stream;
            db.collection('users').doc(currentUser.uid).update({
                stream: stream
            })
            .then(() => {
                streamSection.style.display = 'none';
                subjectsSection.style.display = 'block';
                streamTitle.textContent = `${getStreamName(stream)} ‡∑Ä‡∑í‡∑Ç‡∂∫‡∂±‡∑ä`;
                loadSubjects(stream);
            })
            .catch(error => {
                console.error('Error updating stream:', error);
            });
        }

        // Load subjects for selected stream
        function loadSubjects(stream) {
            subjectsGrid.innerHTML = '';
            const subjects = subjectsData[stream] || [];
            
            subjects.forEach(subject => {
                const subjectCard = document.createElement('div');
                subjectCard.className = 'subject-card';
                subjectCard.innerHTML = `
                    <h3>${subject.name}</h3>
                    <p>${subject.description}</p>
                    <div class="subject-meta">
                        <span>‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂± ‡∂¥‡∂≠‡∑ä‚Äç‡∂ª: ${subject.papers}</span>
                        <span>‡∂Ö‡∂Ω‡∑î‡∂≠‡∑ä‡∂≠‡∂∏: 2023</span>
                    </div>
                `;
                subjectsGrid.appendChild(subjectCard);
            });
        }

        // Get stream name
        function getStreamName(stream) {
            const names = {
                science: '‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è',
                commerce: '‡∑Ä‡∑è‡∂´‡∑í‡∂¢',
                arts: '‡∂ö‡∂Ω‡∑è',
                technology: '‡∂≠‡∑è‡∂ö‡∑ä‡∑Ç‡∂´'
            };
            return names[stream] || stream;
        }

        // Enable profile editing
        function enableProfileEditing() {
            const detailGroups = document.querySelectorAll('.detail-group p');
            detailGroups.forEach(group => {
                const value = group.textContent;
                const field = group.parentElement.querySelector('label').textContent;
                let inputType = 'text';
                
                if (field.includes('‡∑Ä‡∂ª‡∑ä‡∑Ç‡∂∫')) inputType = 'number';
                if (field.includes('‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂¥‡∂Ω')) inputType = 'textarea';
                
                if (inputType === 'textarea') {
                    group.innerHTML = `<textarea style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ddd;">${value}</textarea>`;
                } else {
                    group.innerHTML = `<input type="${inputType}" value="${value}" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ddd;">`;
                }
            });
            
            editProfileBtn.style.display = 'none';
            saveProfileBtn.style.display = 'inline-block';
            cancelEditBtn.style.display = 'inline-block';
        }

        // Save profile
        function saveProfile() {
            const updates = {};
            const detailGroups = document.querySelectorAll('.detail-group');
            
            detailGroups.forEach(group => {
                const label = group.querySelector('label').textContent;
                const input = group.querySelector('input, textarea');
                const value = input.value;
                
                if (label.includes('‡∂∞‡∑è‡∂ª‡∑è‡∑Ä')) updates.stream = value;
                if (label.includes('‡∑Ä‡∂ª‡∑ä‡∑Ç‡∂∫')) updates.birthYear = value;
                if (label.includes('‡∂Ö‡∂Ç‡∂ö‡∂∫')) updates.nic = value;
                if (label.includes('‡∂Ω‡∑í‡∂¥‡∑í‡∂±‡∂∫')) updates.address = value;
                if (label.includes('‡∂Ö‡∂Ç‡∂ö‡∂∫')) updates.phone = value;
                if (label.includes('‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂¥‡∂Ω')) updates.olResults = value;
            });
            
            db.collection('users').doc(currentUser.uid).update(updates)
                .then(() => {
                    cancelProfileEditing();
                    checkUserProfile(currentUser.uid);
                })
                .catch(error => {
                    console.error('Error updating profile:', error);
                });
        }

        // Cancel profile editing
        function cancelProfileEditing() {
            checkUserProfile(currentUser.uid);
            editProfileBtn.style.display = 'inline-block';
            saveProfileBtn.style.display = 'none';
            cancelEditBtn.style.display = 'none';
        }

        // Toggle language
        function toggleLanguage() {
            isEnglish = !isEnglish;
            languageBtn.textContent = isEnglish ? 'EN' : '‡∑É‡∑í‡∂Ç';
            // Here you would implement full language switching logic
            // For now we'll just toggle the welcome message as an example
            if (isEnglish) {
                welcomeName.textContent = currentUser ? currentUser.displayName || 'User' : 'Guest';
                document.title = "EduPapers.lk - Sri Lankan A/L Education System";
            } else {
                welcomeName.textContent = currentUser ? currentUser.displayName || '‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö' : '‡∂Ü‡∂ú‡∂±‡∑ä‡∂≠‡∑î‡∂ö‡∂∫‡∑è';
                document.title = "EduPapers.lk - ‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∂Ç‡∂ö‡∑è ‡∂ã‡∑É‡∑É‡∑ä‡∂¥‡∑ô‡∑Ö ‡∂Ö‡∂∞‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∂± ‡∂¥‡∂Ø‡∑ä‡∂∞‡∂≠‡∑í‡∂∫";
            }
        }

        // Update UI based on auth state
        function updateUI(user) {
            if (user) {
                // User is signed in
                userName.textContent = user.displayName || '‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö';
                userAvatar.src = user.photoURL || 'https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png';
                welcomeName.textContent = user.displayName || '‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö';
                
                // Show profile dropdown
                userProfile.style.cursor = 'pointer';
                
                // Hide auth modal if open
                authModal.classList.remove('active');
            } else {
                // User is signed out
                userName.textContent = '‡∂¥‡∑î‡∂ª‡∂±‡∂∫ ‡∑Ä‡∂±‡∑ä‡∂±';
                userAvatar.src = 'https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png';
                welcomeName.textContent = '‡∂Ü‡∂ú‡∂±‡∑ä‡∂≠‡∑î‡∂ö‡∂∫‡∑è';
                
                // Show stream selection and hide subjects
                streamSection.style.display = 'block';
                subjectsSection.style.display = 'none';
                
                // Hide profile modal if open
                profileModal.classList.remove('active');
            }
        }

        // Initialize the app
        window.addEventListener('load', initApp);
    </script>
</body>
</html>